{"version":3,"sources":["components/header/index.tsx","services/theme/slice.ts","redux/store.ts","services/theme/listeners.ts","services/theme/hooks.ts","App.tsx","index.tsx","components/header/header.module.scss"],"names":["Header","className","styles","wrapper","wrapper__overlay","wrapper__heading","themeSlice","createSlice","name","initialState","theme","reducers","changeTheme","state","action","payload","themeActions","actions","listenerMiddlewareInstance","createListenerMiddleware","onError","console","error","store","configureStore","reducer","middleware","gDM","prepend","startAppListening","startListening","onChangeTheme","document","documentElement","classList","add","useThemeListener","useEffect","unsubscribe","listeners","actionCreator","effect","forEach","setupThemeListeners","darkModeMediaScheme","window","matchMedia","handleThemeChange","dispatch","matches","addEventListener","removeEventListener","App","ReactDOM","render","StrictMode","getElementById","module","exports"],"mappings":"gOAeeA,EAXU,WACvB,OACE,yBAAQC,UAAS,UAAKC,IAAOC,QAAZ,gBAAjB,UACE,qBAAKF,UAAS,UAAKC,IAAOE,iBAAZ,gBACd,oBAAIH,UAAS,UAAKC,IAAOG,iBAAZ,qCAAb,iC,eCAOC,EAAaC,YAAY,CACpCC,KAAM,QACNC,aAAc,CACZC,MAAO,WAETC,SAAU,CACRC,YADQ,SACIC,EAAOC,GACjBD,EAAMH,MAAQI,EAAOC,YAKdC,EAAeV,EAAWW,QChBjCC,EAA6BC,YAAyB,CAE1DC,QAAS,kBAAMC,QAAQC,SAGZC,EAAQC,YAAe,CAClCC,QAAQ,eACLnB,EAAWE,KAAOF,EAAWmB,SAEhCC,WAAY,SAACC,GAAD,OAASA,IAAMC,QAAQV,EAA2BQ,eAGnDG,EAAoBX,EAA2BY,eCV5D,SAASC,EAAcjB,GACrBkB,SAASC,gBAAgBhC,UAAY,QACrC+B,SAASC,gBAAgBC,UAAUC,IAAnC,iBAAiDrB,EAAOC,UCAnD,SAASqB,IACdC,qBAAU,WACR,IAAMC,EDCH,SAA6BR,GAClC,IAAMS,EAAY,CAChBT,EAAe,CACbU,cAAexB,EAAaJ,YAC5B6B,OAAQV,KAIZ,OAAO,kBAAMQ,EAAUG,SAAQ,SAACJ,GAAD,OAAiBA,QCTbK,CAAoBd,GAC/Ce,EAAsBC,OAAOC,WAAW,gCAC9C,SAASC,IACPxB,EAAMyB,SAAShC,EAAaJ,YAAYgC,EAAoBK,QAAU,OAAS,YAMjF,OAHAF,IACAH,EAAoBM,iBAAiB,SAAUH,GAExC,WACLT,IACAM,EAAoBO,oBAAoB,SAAUJ,MAEnD,IClBL,IAUeK,EAVO,WAGpB,OAFAhB,IAGE,+BACE,cAAC,EAAD,O,MCFNiB,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,IAAD,CAAUhC,MAAOA,EAAjB,SACE,cAAC,EAAD,QAGJS,SAASwB,eAAe,U,kBCb1BC,EAAOC,QAAU,CAAC,QAAU,wBAAwB,iBAAmB,iCAAiC,iBAAmB,oC","file":"static/js/main.e5fad617.chunk.js","sourcesContent":["import React from 'react';\n\nimport styles from './header.module.scss';\n\nconst Header: React.FC = () => {\n  return (\n    <header className={`${styles.wrapper} px-16 py-64`}>\n      <div className={`${styles.wrapper__overlay} bg-header`}></div>\n      <h1 className={`${styles.wrapper__heading} text-primary-inverted fs-xl my-0`}>\n        Plan your trip!\n      </h1>\n    </header>\n  );\n};\n\nexport default Header;\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\n\nexport type Theme = 'default' | 'dark';\n\nexport interface ThemeState {\n  theme: Theme;\n}\n\nexport const themeSlice = createSlice({\n  name: 'theme',\n  initialState: {\n    theme: 'default',\n  } as ThemeState,\n  reducers: {\n    changeTheme(state, action: PayloadAction<Theme>) {\n      state.theme = action.payload;\n    },\n  },\n});\n\nexport const themeActions = themeSlice.actions;\n","import { configureStore, createListenerMiddleware, TypedStartListening } from '@reduxjs/toolkit';\n\nimport { themeSlice } from '../services/theme/slice';\n\nconst listenerMiddlewareInstance = createListenerMiddleware({\n  // eslint-disable-next-line no-console\n  onError: () => console.error,\n});\n\nexport const store = configureStore({\n  reducer: {\n    [themeSlice.name]: themeSlice.reducer,\n  },\n  middleware: (gDM) => gDM().prepend(listenerMiddlewareInstance.middleware),\n});\n\nexport const startAppListening = listenerMiddlewareInstance.startListening as AppStartListening;\nexport type RootState = ReturnType<typeof store.getState>;\nexport type AppDispatch = typeof store.dispatch;\nexport type AppStartListening = TypedStartListening<RootState, AppDispatch>;\n","import { Unsubscribe } from '@reduxjs/toolkit';\n\nimport { themeActions } from './slice';\n\nimport type { AppStartListening } from '../../redux/store';\n\nfunction onChangeTheme(action: ReturnType<typeof themeActions.changeTheme>) {\n  document.documentElement.className = 'theme';\n  document.documentElement.classList.add(`theme--${action.payload}`);\n}\n\nexport function setupThemeListeners(startListening: AppStartListening): Unsubscribe {\n  const listeners = [\n    startListening({\n      actionCreator: themeActions.changeTheme,\n      effect: onChangeTheme,\n    }),\n  ];\n\n  return () => listeners.forEach((unsubscribe) => unsubscribe());\n}\n","import { Unsubscribe } from '@reduxjs/toolkit';\nimport { useEffect } from 'react';\n\nimport { store, startAppListening } from '../../redux/store';\n\nimport { setupThemeListeners } from './listeners';\nimport { themeActions } from './slice';\n\nexport function useThemeListener(): void {\n  useEffect(() => {\n    const unsubscribe: Unsubscribe = setupThemeListeners(startAppListening);\n    const darkModeMediaScheme = window.matchMedia('(prefers-color-scheme: dark)');\n    function handleThemeChange() {\n      store.dispatch(themeActions.changeTheme(darkModeMediaScheme.matches ? 'dark' : 'default'));\n    }\n\n    handleThemeChange();\n    darkModeMediaScheme.addEventListener('change', handleThemeChange);\n\n    return () => {\n      unsubscribe();\n      darkModeMediaScheme.removeEventListener('change', handleThemeChange);\n    };\n  }, []);\n}\n","import React from 'react';\n\nimport Header from './components/header';\nimport { useThemeListener } from './services/theme/hooks';\n\nconst App: React.FC = () => {\n  useThemeListener();\n\n  return (\n    <main>\n      <Header />\n    </main>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\n\nimport App from './App';\nimport { store } from './redux/store';\nimport './styles/index.scss';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"header_wrapper__3H3nS\",\"wrapper__overlay\":\"header_wrapper__overlay__2PuWm\",\"wrapper__heading\":\"header_wrapper__heading__3PxEY\"};"],"sourceRoot":""}